{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- Hero con carrusel -->
<section id="inicio" class="text-center p-5 bg-solar">
  <h2 class="mb-3">Impulsa el futuro con energ√≠a limpia</h2>
  <p class="mb-4">Descubre soluciones solares, e√≥licas y m√°s para un mundo sostenible.</p>
  <div class="container" style="max-width: 700px;">
    <div id="carouselEcoEn" class="carousel slide mt-5" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselEcoEn" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Imagen 1"></button>
        <button type="button" data-bs-target="#carouselEcoEn" data-bs-slide-to="1" aria-label="Imagen 2"></button>
        <button type="button" data-bs-target="#carouselEcoEn" data-bs-slide-to="2" aria-label="Imagen 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="{% static 'images/panel-solar2.jpg' %}" class="d-block w-100 rounded" alt="Panel solar">
        </div>
        <div class="carousel-item">
          <img src="{% static 'images/turbina-real1.jpg' %}" class="d-block w-100 rounded" alt="Turbina e√≥lica">
        </div>
        <div class="carousel-item">
          <img src="{% static 'images/bateria.jpg' %}" class="d-block w-100 rounded" alt="Bater√≠a de almacenamiento">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselEcoEn" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselEcoEn" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</section>

<!-- Rese√±as -->
<section id="rese√±as" class="container py-5">
  <h2 class="text-center mb-4">üí¨ Opiniones de Clientes</h2>
  <div class="row row-cols-1 row-cols-md-3 g-4">
    <!-- Opiniones fijas -->
    <div class="col">
      <div class="p-3 opinion-card shadow-sm rounded">
        "Los paneles solares redujeron mi factura un 70%." ‚Äì Ana G.
      </div>
    </div>
    <div class="col">
      <div class="p-3 opinion-card shadow-sm rounded">
        "La turbina e√≥lica funciona incluso en d√≠as nublados." ‚Äì Carlos M.
      </div>
    </div>
    <div class="col">
      <div class="p-3 opinion-card shadow-sm rounded">
        "Excelente atenci√≥n y productos de calidad." ‚Äì Luc√≠a R.
      </div>
    </div>

    <!-- Opiniones din√°micas -->
    {% for op in opiniones %}
    <div class="col">
      <div class="p-3 opinion-card shadow-sm rounded">
        "{{ op.mensaje }}" ‚Äì {{ op.nombre }}
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<!-- Contacto -->
<section id="contacto" class="card p-4 mb-5">
  <h2 class="text-center mb-4">üì¨ Cont√°ctanos</h2>
  <form action="https://formspree.io/f/xjkankyn" method="POST" class="needs-validation" novalidate id="formContacto">
    <fieldset>
      <legend>Env√≠anos tu mensaje</legend>
      <div class="mb-3">
        <label for="nombre">Nombre</label>
        <input type="text" class="form-control" id="nombre" name="nombre" required autocomplete="name">
      </div>
      <div class="mb-3">
        <label for="email">Correo electr√≥nico</label>
        <input type="email" class="form-control" id="email" name="email" required autocomplete="email">
      </div>
      <div class="mb-3">
        <label for="mensaje">Mensaje</label>
        <textarea class="form-control" id="mensaje" name="mensaje" rows="4" required></textarea>
      </div>
      <button type="submit" class="btn btn-success">Enviar</button>
    </fieldset>
  </form>
</section>

<!-- Carrito -->
<section id="carrito" class="card shadow-sm p-4 mb-5 bg-body rounded">
  <h2 class="text-center mb-4">üõí Tu Carrito</h2>

  <ul id="carrito-lista" class="list-group mb-3"></ul>

  <div class="d-flex justify-content-between align-items-center mb-3">
    <span class="fw-bold fs-5">Total:</span>
    <span id="carrito-total" class="fw-bold fs-5 text-success">0 ARS</span>
  </div>

  <button id="btn-comprar" class="btn btn-success w-100">Comprar</button>

  <div id="metodos-pago" class="d-none mt-4">
    <h5 class="mt-3">Seleccion√° un m√©todo de pago:</h5>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="metodoPago" id="pagoMP" value="mercado_pago">
      <label class="form-check-label" for="pagoMP">Mercado Pago (Simulado)</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="metodoPago" id="pagoTransferencia" value="transferencia">
      <label class="form-check-label" for="pagoTransferencia">Transferencia Bancaria</label>
    </div>

    <div id="datos-transferencia" class="mt-3 d-none">
      <p><strong>Banco:</strong> Banco Naci√≥n</p>
      <p><strong>CBU:</strong> 01105999xxxxxxxxxxxx</p>
      <p><strong>Alias:</strong> ecoen.pagos</p>
      <p><strong>CUIT:</strong> 20-xxxxxxxx-x</p>
      <p class="text-muted">Envi√° tu comprobante por email o s√∫belo en tu perfil.</p>
    </div>

    <button id="btn-confirmar" class="btn btn-primary w-100 mt-3">Confirmar compra</button>
  </div>
</section>
{% endblock %}